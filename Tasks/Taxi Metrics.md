# Метрики такси 
У меня есть результаты предсказаний двух моделей. Мне необходимо провести анализ и вывести метрики, которые помогут оценить точность моделей по различным параметрам.

## Mean Squared Error (MSE)

$$
\text{MSE} = \frac{1}{n} \sum_{i=1}^{n} (y_i - \hat{y}_i)^2
$$

```python
MSE = ((df['target'] - df['prediction']) ** 2).sum() / len(df)
```

**MSE** для первой модели `99 994`.

**MSE** для второй модели `124 936`.

Для лучшего восприятия я вычислил **RMSE**
```python
MSE **= 1/2
```
**RMSE** первой модели `316`.

**RMSE** второй модели `353`.

На первый взгляд, сразу можно сказать, что у второй модели глубина ошибки больше чем у первой. Из чего можно получить, что у второй модели разброс ошибок на  `11%` больше относительно первой.

По показателям **MSE** первая модель лучше.

## Mean Absolute Error(MAE)

$$
\text{MAE} = \frac{1}{n} \sum_{i=1}^{n} |y_i - \hat{y}_i|
$$

```python
MAE = abs((df['trip_duration'] - df['prediction_1'])).sum() / len(df)
```

**MAE** для первой модели `300`.

**MAE** для второй модели `281`.

По метрики **MAE** уже выйгрывает вторая модель, в среднем она допускает на `6%` меньше ошибок, относительно первой. 

Для того, чтобы посчитать, у какой модели глубина ошибок больше, определим за фатальное отклонение `500` и посчитаем количество отклонений для каждой модели.

```python
counter_error = (df['trip_duration'] - df['prediction_'] >= 500).sum()  
```
Первая модель допустила грубых ошибок `0`

Вторая модель допустила грубых ошибок `84524`

Теперь видно, что вторая модель чаще допускает фатальные ошибки. 

Чтобы посчитать процент грубых ошибок относительно всех предсказаний, я сделаю следующее.

```python
counter_error * 100 / len(df)
```

Получил значение равное `6%`. Это говорит нам следуюющее - `6%` предсказаний будут содержать грубые ошибки.




